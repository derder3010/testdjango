<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BlogHub - T·ªïng h·ª£p Blog C√° nh√¢n{% endblock %}</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.8"></script>
    
    <!-- Masonry Layout -->
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    
    <!-- Custom CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .htmx-indicator { opacity: 0; }
        .htmx-request .htmx-indicator { opacity: 1; }
        .htmx-request.htmx-indicator { opacity: 1; }
        
        /* Masonry layout styles */
        .masonry-grid {
            column-count: 1;
            column-gap: 12px;
            padding: 0;
        }
        
        @media (min-width: 640px) {
            .masonry-grid { column-count: 2; }
        }
        
        @media (min-width: 1024px) {
            .masonry-grid { column-count: 3; }
        }
        
        @media (min-width: 1280px) {
            .masonry-grid { column-count: 4; }
        }
        
        .masonry-item {
            display: inline-block;
            width: 100%;
            margin-bottom: 12px;
            break-inside: avoid;
        }
        
        /* Smooth loading */
        .masonry-item {
            opacity: 0;
            animation: fadeIn 0.3s ease-in-out forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white border-b border-gray-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="{% url 'aggregator:index' %}" class="flex items-center">
                        <div class="w-8 h-8 bg-blue-600 flex items-center justify-center mr-3">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h1 class="text-xl font-bold text-gray-900">BlogHub</h1>
                    </a>
                </div>
                
                <!-- Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="{% url 'aggregator:index' %}" class="text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üè† Trang ch·ªß
                    </a>
                    <a href="{% url 'aggregator:all_posts' %}" class="text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üìã T·∫•t c·∫£ b√†i vi·∫øt
                    </a>
                    <a href="{% url 'aggregator:categories' %}" class="text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üè∑Ô∏è Danh m·ª•c
                    </a>
                    <a href="{% url 'aggregator:blog_sources' %}" class="text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üìñ Blog ngu·ªìn
                    </a>
                    <a href="/admin/" class="text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        ‚öôÔ∏è Qu·∫£n tr·ªã
                    </a>
                </nav>
                
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-blue-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <div class="space-y-2">
                    <a href="{% url 'aggregator:index' %}" class="block text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üè† Trang ch·ªß
                    </a>
                    <a href="{% url 'aggregator:all_posts' %}" class="block text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üìã T·∫•t c·∫£ b√†i vi·∫øt
                    </a>
                    <a href="{% url 'aggregator:categories' %}" class="block text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üè∑Ô∏è Danh m·ª•c
                    </a>
                    <a href="{% url 'aggregator:blog_sources' %}" class="block text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        üìñ Blog ngu·ªìn
                    </a>
                    <a href="/admin/" class="block text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium">
                        ‚öôÔ∏è Qu·∫£n tr·ªã
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-300 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- About -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">BlogHub</h3>
                    <p class="text-gray-600 text-sm">
                        T·ªïng h·ª£p v√† kh√°m ph√° n·ªôi dung t·ª´ c√°c blog c√° nh√¢n h√†ng ƒë·∫ßu Vi·ªát Nam. 
                        K·∫øt n·ªëi v·ªõi nh·ªØng √Ω t∆∞·ªüng v√† g√≥c nh√¨n ƒë·ªôc ƒë√°o.
                    </p>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Li√™n k·∫øt nhanh</h3>
                    <div class="space-y-2">
                        <a href="{% url 'aggregator:all_posts' %}" class="block text-gray-600 hover:text-blue-600 text-sm">T·∫•t c·∫£ b√†i vi·∫øt</a>
                        <a href="{% url 'aggregator:categories' %}" class="block text-gray-600 hover:text-blue-600 text-sm">Danh m·ª•c</a>
                        <a href="{% url 'aggregator:blog_sources' %}" class="block text-gray-600 hover:text-blue-600 text-sm">Blog ngu·ªìn</a>
                        <a href="/admin/" class="block text-gray-600 hover:text-blue-600 text-sm">Qu·∫£n tr·ªã</a>
                    </div>
                </div>
                
                <!-- Tech Info -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">C√¥ng ngh·ªá</h3>
                    <p class="text-gray-600 text-sm">
                        ƒê∆∞·ª£c x√¢y d·ª±ng b·∫±ng Django, HTMX, v√† Tailwind CSS. 
                        Giao di·ªán masonry layout v·ªõi infinity scroll.
                    </p>
                </div>
            </div>
            
            <div class="border-t border-gray-300 mt-8 pt-8 text-center text-gray-600">
                <p>&copy; 2024 BlogHub - T·ªïng h·ª£p n·ªôi dung t·ª´ c√°c blog c√° nh√¢n</p>
            </div>
        </div>
    </footer>

    <!-- Loading indicator -->
    <div id="loading-indicator" class="htmx-indicator fixed top-4 right-4 z-50">
        <div class="bg-blue-600 text-white px-4 py-2">
            <div class="flex items-center">
                <svg class="animate-spin h-5 w-5 mr-2" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                ƒêang t·∫£i...
            </div>
        </div>
    </div>

    <!-- Mobile menu script -->
    <script>
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });
    </script>

    <!-- Custom JS -->
    {% block extra_js %}
    {% endblock %}
</body>
</html>